"use strict";(self.webpackChunkkerbal_transfer_illustrator=self.webpackChunkkerbal_transfer_illustrator||[]).push([[325],{2425:function(t,r,e){var i,o=e(724);!function(t){function r(t,r,o,a,n,s){for(var h=0,u=0,c=0,f=0,v=0,l=0,d=0;d<s;d++){var b=e(f,v,l,r,u=i(r,n,o),n),p=(f=b.DT)*f;if(r=h=r-(c=u-t)*(p-c*(v=b.DDT)/2)/(f*(p-c*v)+(l=b.DDDT)*c*c/6),Math.abs(r-h)<a)break}return r}function e(t,r,e,i,o,a){var n=a*a,s=n*a,h=1-i*i,u=Math.sqrt(1-n*h),c=u*u,f=c*u;return{DT:t=1/h*(3*o*i-2+2*s*i/u),DDT:r=1/h*(3*o+5*i*t+2*(1-n)*s/f),DDDT:1/h*(7*i*r+8*t-6*(1-n)*n*s*i/f/c)}}function i(t,r,e){var i=Math.abs(t-1);if(i<.2&&i>.01)return function(t,r,e){var i=1/(1-t*t);if(i>0){var a=2*Math.acos(t),n=2*Math.asin(Math.sqrt(r*r/i));return r<0&&(n=-n),i*Math.sqrt(i)*(a-Math.sin(a)-(n-Math.sin(n)*o.uo*e))/2}var s=2*Math.acosh(t),h=2*Math.asinh(Math.sqrt(-r*r/i));return r<0&&(h=-h),-i*Math.sqrt(-i)*(h-Math.sinh(h)-(s-Math.sinh(s)))/2}(t,r,e);var a=r*r,n=t*t-1,s=Math.abs(n),h=Math.sqrt(1+a*n);if(i<.01){var u=h-r*t,c=function(t,r){var e=1,i=1,o=1,a=0,n=0,s=0;for(;o>r;)n=e+(a=i*(3+s)*(1+s)/(2.5+s)*t/(s+1)),o=Math.abs(a),e=n,i=a,s++;return e}(.5*(1-r-t*u),1e-11);return(u*u*u*(c*=4/3)+4*r*u)/2+Math.PI*e/Math.pow(s,1.5)}var f=Math.sqrt(s),v=t*h-r*n,l=0;if(n<0){var d=Math.acos(v);l=Math.PI*e+d}else{var b=f*(h-r*t);l=Math.log(b+v)}return(t-r*h-l/f)/n}t.solve=function(t,a,n,s){var h,u,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,f=arguments.length>5&&void 0!==arguments[5]&&arguments[5],v=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=s.stdGravParam,d=(0,o.G7)(t),b=(0,o.G7)(a),p=(0,o.G7)((0,o.qK)(a,t)),m=.5*(d+b+p),g=(0,o.$_)(t,d),y=(0,o.$_)(a,b),M=(0,o.G$)((0,o.oF)(g,y)),Z=1-p/m,P=Math.sqrt(Z);M.z<0?(P=-P,h=(0,o.oF)(g,M),u=(0,o.oF)(y,M)):(h=(0,o.oF)(M,g),u=(0,o.oF)(M,y)),h=(0,o.G$)(h),u=(0,o.G$)(u),f&&(P=-P,h=(0,o.zy)(h,-1),u=(0,o.zy)(u,-1));var O,j=P*Z,x=Math.sqrt(2*l/(m*m*m))*n,T=x/Math.PI,w=Math.acos(P)+P*Math.sqrt(1-Z),A=w+T*Math.PI,S=2/3*(1-j),D=0,q=0,G=0,I={DT:D,DDT:q,DDDT:G};if(T>0&&x>A){for(var F=0,k=A,R=0,E=0;D=(I=e(D,q,G,R,k,P)).DT,q=I.DDT,G=I.DDDT,0!==D&&(E=R-D*q/(q*q-D*G/2)),!(Math.abs(R-E)<1e-13||F>12);)k=i(k,E,T),R=E,F++;k>x&&(T-=1)}if(0===(T=c<T?c:T)){O=r(x,x>=w?-(x-w)/(x-w+4):x<=S?S*(S-x)/(.4*(1-Z*j)*x)+1:Math.pow(x/w,.6931471805599453/Math.log(S/w))-1,0,1e-15,P,15)}else{var N=0;O=r(x,O=((N=v?Math.pow((T*Math.PI+Math.PI)/(8*x),2/3):Math.pow(8*x/(T*Math.PI),2/3))-1)/(N+1),T,1e-8,P,15)}var _=Math.sqrt(l*m/2),L=(d-b)/p,z=Math.sqrt(1-L*L),$=Math.sqrt(1-Z+Z*O*O),H=_*(P*$-O-L*(P*$+O))/d,K=-_*(P*$-O+L*(P*$+O))/b,V=_*z*($+P*O),C=V/d,B=V/b,U=(0,o.sZ)((0,o.zy)(g,H),(0,o.zy)(h,C)),J=(0,o.sZ)((0,o.zy)(y,K),(0,o.zy)(u,B));return{v1:U,v2:J}},t.psolve=function(t,r,e,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],n=i.stdGravParam,s=(0,o.G7)(t),h=(0,o.G7)(r),u=Math.atan2((0,o.G7)((0,o.oF)(t,r)),(0,o._O)(t,r));u=a?-u:u;var c=(0,o.G$)((0,o.oF)(t,r));c.z<0&&(u=o.uo-u);var f,v,l=s*h*(1-Math.cos(u)),d=s+h,b=s*h*(1+Math.cos(u)),p=l/(d+Math.sqrt(2*b)),m=l/(d-Math.sqrt(2*b));u>Math.PI?(f=0,v=m):(f=p,v=1/0);for(var g=1e-12,y=1e3*g,M=200,Z=0,P=g+1,O=(p+m)/2,j=O,x=0,T=0,w=0,A=0;P>g&&Z<M;){Z++,x=0===(x=b*l*(O=j)/(O*O*(2*b-d*d)+2*l*d*O-l*l))?1e-100:x,T=1-h/O*(1-Math.cos(u)),w=s*h*Math.sin(u)/Math.sqrt(n*O);var S=void 0,D=void 0;if(A=Math.sqrt(n/O)*Math.tan(u/2)*((1-Math.cos(u))/O-1/s-1/h),x>0){var q=-s*h*A/Math.sqrt(n*x),G=1-s/x*(1-T),I=(0,o.z7)(Math.atan2(q,G)),F=Math.sqrt(x*x*x/n);D=-w/2/O-1.5*x*((S=w+F*(I-q))-w)*(l*l+(2*b-d*d)*O*O)/(b*l*O*O)+F*(2*l*q)/(O*(l-d*O))}else{var k=Math.acosh(1-s/x*(1-T)),R=Math.sqrt(-x*x*x/n);D=-w/2/O-1.5*x*((S=w+R*(Math.sinh(k)-k))-w)*(l*l+(2*b-d*d)*O*O)/(b*l*O*O)-R*(2*l*Math.sinh(k))/(O*(l-d*O))}P=Math.abs(e-S)/e,(j=O+(e-S)/D)<f?j=(O+f)/2:j>v&&(j=(O+v)/2)}P>y&&console.log("Lambert p-iteration failed to converge. error: %f",P);var E=(0,o.$_)((0,o.qK)(r,(0,o.zy)(t,T)),w),N=(0,o.sZ)((0,o.zy)(t,A),(0,o.zy)(E,w));return{v1:E,v2:N}}}(i||(i={})),r.Z=i},4067:function(t,r,e){e.d(r,{v$:function(){return o},ri:function(){return a},Zg:function(){return n},c4:function(){return h}});var i=(1+Math.sqrt(5))/2;function o(t,r,e){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-12,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,a=2*Number.EPSILON,n=r,s=e,h=t(n),u=t(s);if(Math.sign(h)===Math.sign(u))throw new Error("The provided bounds do not bracket a root.");if(Math.abs(h)<Math.abs(u)){var c=n;n=s,s=c;var f=h;h=u,u=f}for(var v=n,l=h,d=v,b=!0,p=0,m=1,g=o;g;){if(g--,Math.abs(s-n)<i)return s;if(Math.abs(u)<a)return s;p=0,p=Math.abs(h-l)>a&&Math.abs(u-l)>a?n*u*l/((h-u)*(h-l))+s*h*l/((u-h)*(u-l))+v*h*u/((l-h)*(l-u)):s-l*((s-n)/(u-h));var y=Math.abs(a*s),M=Math.abs(p-s),Z=Math.abs(s-v),P=Math.abs(v-d);if((p-(3*n+s)/4)*(p-s)>=0||b&&M>=Z/2||!b&&M>=P/2||b&&Z<y||!b&&P<y?(p=(n+s)/2,b=!0):b=!1,m=t(p),Math.abs(m)<a)return p;if(d=v,v=s,Math.sign(h)!==Math.sign(m)?(s=p,u=m):(n=p,h=m),Math.abs(h)<Math.abs(u)){var O=n;n=s,s=O;var j=h;h=u,u=j}}return p}function a(t,r,e){for(var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-8,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:50,n=2-i,s=o,h=r,u=e,c=u-h,f=h+n*c,v=f,l=v,d=t(l),b=t(v),p=t(f),m=0,g=0,y=(h+u)/2,M=0,Z=0,P=0,O=0,j=0,x=a;x;){if(x--,c<o)return y;P=.5*(M=(v-f)*(v-f)*(p-d)+(l-f)*(l-f)*(b-p))/(Z=(v-f)*(p-d)+(l-f)*(b-p)),0===Z||h>m||m>u||Math.abs(M/Z)>.5*Math.abs(j)||Math.abs(j)<s?O=n*(j=f<y?u-f:h-f):(j=O,O=P),(g=t(m=f+O))<=p?(h=m<f?h:f,u=m<f?f:u,l=v,v=f,f=m,d=b,b=p,p=g):(h=m<f?m:h,u=m<f?u:m,g<=b||v===f?(l=v,v=m,d=b,b=g):(g<=d||l===f||l===v)&&(l=m,d=g)),c=u-h,y=(h+u)/2}return y}function n(t,r,e,i){for(var o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e3,n=0,s=e,h=i+1;h>i&&n<a;)o=s,s-=t(s)/r(s),h<(h=Math.abs(s-o))&&(s=(s+o)/2),n++;return n>=a&&console.log("Newton's method failed to find a root. Error of %f. ",h),s}function s(t,r){return t.objx-r.objx}function h(t,r){for(var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:250*t[0].length,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2,n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:.5,u=t[0].length,c=[],f=t[0].slice(),v=f.slice(),l=f.slice(),d=f.slice(),b=0;b<=u;b++)c.push({x:t[b],objx:r(t[b])});for(var p=0;p<i&&(c.sort(s),!(c[0].objx<e));p++){for(var m=0;m<=u;m++){f[m]=0;for(var g=0;g<u;g++)f[m]=f[m]+c[g].x[m];f[m]=f[m]/u}for(var y=0;y<u;y++)v[y]=f[y]+o*(f[y]-c[u].x[y]);var M=r(v);if(M<c[u-1].objx&&M>=c[0].objx)c[u].x=v.slice(),c[u].objx=M;else if(M<c[0].objx){for(var Z=0;Z<u;Z++)d[Z]=f[Z]+a*(v[Z]-f[Z]);var P=r(d);P<M?(c[u].x=d.slice(),c[u].objx=P):(c[u].x=v.slice(),c[u].objx=M)}else{if(M>c[u].objx){for(var O=0;O<u;O++)l[O]=f[O]+n*(c[u].x[O]-f[O]);var j=r(l);if(j<c[u].objx){c[u].x=l.slice(),c[u].objx=j;continue}}else{for(var x=0;x<u;x++)l[x]=f[x]+n*(v[x]-f[x]);var T=r(l);if(T<M){c[u].x=l.slice(),c[u].objx=T;continue}}for(var w=1;w<=u;w++){for(var A=1;A<u;A++)c[w].x[A]=c[0].x[A]+h*(c[w].x[A]-c[0].x[A]);c[w].objx=r(c[w].x)}}}return c[0].x}},8034:function(t,r,e){var i,o=e(8818),a=e(2425),n=e(6752),s=e(724),h=e(1684);!function(t){function r(t,r){if(0===r)return t.sun;var e=t.orbiterIds.get(r);if(!e)throw new Error("No body with id ".concat(r));return e}t.transferTrajectory=function(t,r,e,i,n,h,u){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:(0,s.R3)(0,0,0),f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:(0,s.R3)(0,0,0),v=o.Z.orbitToStateAtDate(t,e,i),l=o.Z.orbitToStateAtDate(r,e,h),d=(0,s.sZ)(v.pos,c),b=(0,s.sZ)(l.pos,f);if(u){var p=o.Z.rotateToPerifocalFromInertial(b,t);p=o.Z.rotateToInertialFromPerifocal((0,s.R3)(p.x,p.y,0),t);var m=a.Z.solve(d,p,n,e),g=m.v1,y=o.Z.stateToOrbit({date:i,pos:d,vel:g},e),M=o.Z.angleInOrbitPlane(d,y),Z=o.Z.angleInOrbitPlane(p,y),P=M+Math.max(0,(0,s.z7)(Z-M)-s.pj),O=o.Z.trueAnomalyToOrbitDate(P,y,i),j={date:O,pos:o.Z.positionAtTrueAnomaly(y,P),vel:o.Z.velocityAtTrueAnomaly(y,e.stdGravParam,P)},x=(0,s.G$)((0,s.oF)(j.pos,j.vel)),T=(0,s.G$)((0,s.oF)(j.pos,b)),w=(0,s.ZF)((0,s._O)(x,T)),A=0===w?s.gG:(0,s.G$)((0,s.oF)(x,T));A=isNaN(A.x)?s.gG:A;var S=(0,s.oU)(j.vel,A,w),D={date:O,pos:j.pos,vel:S},q=o.Z.stateToOrbit(D,e),G={date:i,pos:d,vel:g},I=o.Z.orbitToStateAtDate(q,e,h);if(isNaN(I.pos.x)){var F=o.Z.angleInOrbitPlane(b,q);I={date:h,pos:b,vel:o.Z.velocityAtTrueAnomaly(q,e.stdGravParam,F)}}var k=o.Z.maneuverFromOrbitalStates(v,G),R=o.Z.maneuverFromOrbitalStates(I,l),E=o.Z.maneuverFromOrbitalStates(j,D),N={orbits:[y,q],intersectTimes:[i,O,h],maneuvers:[k,E,R]};return N}var _=a.Z.solve(d,b,n,e),L=_.v1,z=_.v2,$={date:i,pos:d,vel:L},H={date:h,pos:b,vel:z},K=o.Z.maneuverFromOrbitalStates(v,$),V=o.Z.maneuverFromOrbitalStates(H,l),C={orbits:[o.Z.stateToOrbit({date:i,pos:d,vel:L},e)],intersectTimes:[i,h],maneuvers:[K,V]};return C},t.ejectionTrajectories=function(t,e,i,a,u){for(var c,f,v,l,d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],b=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"fastdirect",p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:a.slice(-1).map((function(t){return(0,s.R3)(0,0,0)})),m=[],g=u,y=a.length-1,M=y-1;M>=0;M--){var Z=r(t,a[M]),P=r(t,a[M+1]);if(0===M)f=e;else{var O=r(t,a[M-1]);f=O.orbit}if(M===y-1)c=i,v=o.Z.orbitToVelocityAtDate(c,P,g),l=o.Z.orbitToVelocityAtDate(Z.orbit,P,g);else{var j=m[m.length-1];c=j.orbits[0],v=j.maneuvers[0].postState.vel,g=j.maneuvers[0].postState.date,l=j.maneuvers[0].preState.vel}var x=(0,s.qK)(v,l),T=M>0||d,w=b;if("fastoberth"===w){var A=Z.soi,S=Z.stdGravParam,D=(0,s.A$)(x),q=f.semiMajorAxis,G=h.Z.minFlybyRadius(Z),I=D/2-S/A,F=Math.sqrt(S/q),k=(q-G)/(G+q),R=G/(1-k),E=-S/(2*R),N=Math.sqrt(2*(E+S/G)),_=Math.sqrt(2*(I+S/G)),L=Math.sqrt(2*(E+S/q)),z=Math.sqrt(2*(I+S/q)),$=Math.abs(F-z),H=Math.abs(_-N)+Math.abs(L-F);$<H&&(w="fastdirect")}var K=0===M?(0,s.R3)(0,0,0):p[M-1],V="fastdirect"===w?n.Z.fastDeparture(f,Z,x,g,T):"direct"===w?n.Z.optimalDeparture(f,Z,x,g,T,"direct",K):"fastoberth"===w?n.Z.fastOberthDeparture(f,Z,x,g,T,K):"oberth"===w?n.Z.optimalDeparture(f,Z,x,g,T,"oberth",K):n.Z.fastDeparture(f,Z,x,g,T);if(M>0&&"fastdirect"===w&&(0,s.G7)(K)>0){var C=n.Z.departArriveForPosition((0,s.sZ)(V.maneuvers[0].preState.pos,K),Z,x,g,1).orbit,B=o.Z.angleInOrbitPlane(V.maneuvers[0].preState.pos,f),U=o.Z.trueAnomalyToOrbitDate(B,f,C.epoch-f.siderealPeriod/2),J=g+U-C.epoch;C.epoch=U;var Q=o.Z.velocityAtTrueAnomaly(f,Z.stdGravParam,B),W={date:U,pos:V.maneuvers[0].preState.pos,vel:Q},X=o.Z.orbitToStateAtDate(C,Z,C.epoch),Y=o.Z.maneuverFromOrbitalStates(W,X);V={orbits:[C],intersectTimes:[U,J],maneuvers:[Y]}}m.push(V)}return m.reverse()},t.insertionTrajectories=function(t,e,i,a,u){for(var c,f,v,l,d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],b=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"fastdirect",p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:a.slice(0,-1).map((function(t){return(0,s.R3)(0,0,0)})),m=[],g=u,y=a.length-1,M=0;M<y;M++){var Z=r(t,a[M+1]),P=r(t,a[M]);if(M===y-1)f=e;else{var O=r(t,a[M+2]);f=O.orbit}if(0===M)c=i,v=o.Z.orbitToVelocityAtDate(c,P,g),l=o.Z.orbitToVelocityAtDate(Z.orbit,P,g);else{var j=m[m.length-1],x=j.orbits.length,T=j.maneuvers.length;c=j.orbits[x-1],v=j.maneuvers[T-1].preState.vel,g=j.maneuvers[T-1].preState.date,l=j.maneuvers[T-1].postState.vel}var w=(0,s.qK)(v,l),A=M<y-1||d,S=b;if("fastoberth"===S){var D=Z.soi,q=Z.stdGravParam,G=(0,s.A$)(w),I=f.semiMajorAxis,F=h.Z.minFlybyRadius(Z),k=G/2-q/D,R=Math.sqrt(q/I),E=(I+F)/2,N=-q/(2*E),_=Math.sqrt(2*(N+q/F)),L=Math.sqrt(2*(k+q/F)),z=Math.sqrt(2*(N+q/I)),$=Math.sqrt(2*(k+q/I)),H=Math.abs(R-$),K=Math.abs(L-_)+Math.abs(z-R);H<K&&(S="fastdirect")}var V=M===y-1?(0,s.R3)(0,0,0):p[M+1],C="fastdirect"===S?n.Z.fastArrival(f,Z,w,g,A):"direct"===S?n.Z.optimalArrival(f,Z,w,g,A,"direct",V):"fastoberth"===S?n.Z.fastOberthArrival(f,Z,w,g,A,V):"oberth"===S?n.Z.optimalArrival(f,Z,w,g,A,"oberth",V):n.Z.fastArrival(f,Z,w,g,A);if(M<y&&"fastdirect"===S&&(0,s.G7)(V)>0){var B=C.maneuvers.length,U=n.Z.departArriveForPosition((0,s.sZ)(C.maneuvers[B-1].postState.pos,V),Z,w,g,-1).orbit,J=o.Z.angleInOrbitPlane(C.maneuvers[B-1].postState.pos,f),Q=o.Z.trueAnomalyToOrbitDate(J,f,U.epoch-f.siderealPeriod/2),W=g+Q-U.epoch;U.epoch=Q;var X=o.Z.velocityAtTrueAnomaly(f,Z.stdGravParam,J),Y={date:Q,pos:C.maneuvers[B-1].postState.pos,vel:X},tt=o.Z.orbitToStateAtDate(U,Z,U.epoch),rt=o.Z.maneuverFromOrbitalStates(tt,Y);C={orbits:[U],intersectTimes:[W,Q],maneuvers:[rt]}}m.push(C)}return m}}(i||(i={})),r.Z=i},7531:function(t,r,e){e.d(r,{CK:function(){return v},sn:function(){return l},VM:function(){return d}});var i=e(1413),o=e(5807),a=e(1120),n=e(136),s=e(9388),h=e(5671),u=e(3144),c=e(7487),f=e(2763),v=function(){function t(r){(0,h.Z)(this,t),this.id=void 0,this.name=void 0,this.radius=void 0,this.maxTerrainHeight=void 0,this.atmosphereHeight=void 0,this.mass=void 0,this.stdGravParam=void 0,this.soi=void 0,this.color=void 0,this.orbiters=[],this.id=r.id,this.name=r.name,this.radius=r.radius,this.maxTerrainHeight=r.maxTerrainHeight?r.maxTerrainHeight:0,this.atmosphereHeight=r.atmosphereHeight,this.mass=r.mass,this.stdGravParam=r.stdGravParam,this.soi=r.soi,this.color=new f.Z(r.color)}return(0,u.Z)(t,[{key:"data",get:function(){return{id:this.id,name:this.name,radius:this.radius,atmosphereHeight:this.atmosphereHeight,mass:this.mass,stdGravParam:this.stdGravParam,soi:this.soi,color:this.color}}},{key:"orbiterIds",get:function(){for(var t=[],r=0;r<this.orbiters.length;r++)t.push(this.orbiters[r].id);return t}},{key:"furtherstOrbiterDistance",get:function(){for(var t=0,r=0;r<this.orbiters.length;r++){var e=this.orbiters[r].orbit,i=e.semiMajorAxis*(1+e.eccentricity);t=Math.max(i,t)}return t}}]),t}(),l=function(t){(0,n.Z)(e,t);var r=(0,s.Z)(e);function e(t,i){var o,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,h.Z)(this,e),(o=r.call(this,t)).attractor=i,o.orbit=void 0,o.orbiting=void 0,o.orbit=new c.Z(t.orbit,o.attractor,a),o.orbiting=t.orbiting,o}return(0,u.Z)(e,[{key:"data",get:function(){return(0,i.Z)((0,i.Z)({},(0,o.Z)((0,a.Z)(e.prototype),"data",this)),{},{orbit:this.orbit.data,orbiting:this.orbiting})}}]),e}(v);function d(t){return void 0!==t.orbiting}},2763:function(t,r,e){var i=e(5671),o=e(3144),a=function(){function t(r){(0,i.Z)(this,t),this.r=void 0,this.g=void 0,this.b=void 0,this.a=void 0,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a?r.a:1}return(0,o.Z)(t,[{key:"rescale",value:function(r){return new t({r:Math.max(Math.min(r*this.r,255),0),g:Math.max(Math.min(r*this.g,255),0),b:Math.max(Math.min(r*this.b,255),0),a:this.a})}},{key:"toString",value:function(){return"rgba(".concat(this.r.toString(),",",this.g.toString(),",",this.b.toString(),",",this.a.toString(),")")}}]),t}();r.Z=a},7487:function(t,r,e){var i=e(5671),o=e(3144),a=e(8818),n=e(724),s=function(){function t(r,e){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,i.Z)(this,t),this.semiMajorAxis=void 0,this.apoapsis=void 0,this.periapsis=void 0,this.eccentricity=void 0,this.inclination=void 0,this.argOfPeriapsis=void 0,this.ascNodeLongitude=void 0,this.meanAnomalyEpoch=void 0,this.epoch=void 0,this.semiLatusRectum=void 0,this.siderealPeriod=void 0,this.orbiting=void 0,this.attractorSoi=void 0,this.attractorStdGravParam=void 0,this.semiMajorAxis=r.semiMajorAxis,this.eccentricity=r.eccentricity,this.meanAnomalyEpoch=r.meanAnomalyEpoch,this.epoch=r.epoch,o?(this.inclination=(0,n.Id)(r.inclination),this.argOfPeriapsis=(0,n.Id)(r.argOfPeriapsis),this.ascNodeLongitude=(0,n.Id)(r.ascNodeLongitude)):(this.inclination=r.inclination,this.argOfPeriapsis=r.argOfPeriapsis,this.ascNodeLongitude=r.ascNodeLongitude),this.eccentricity<1?(this.periapsis=this.semiMajorAxis*(1-this.eccentricity),this.apoapsis=this.semiMajorAxis*(1+this.eccentricity)):this.periapsis=this.semiMajorAxis*(this.eccentricity-1),r.semiLatusRectum?this.semiLatusRectum=r.semiLatusRectum:this.semiLatusRectum=this.semiMajorAxis*(1-this.eccentricity*this.eccentricity),r.siderealPeriod?this.siderealPeriod=r.siderealPeriod:this.siderealPeriod=a.Z.siderealPeriod(r.semiMajorAxis,e.stdGravParam),this.orbiting="orbiting"in r?r.orbiting:e.id,this.attractorSoi=e.soi,this.attractorStdGravParam=e.stdGravParam}return(0,o.Z)(t,[{key:"data",get:function(){return{orbiting:this.orbiting,semiMajorAxis:this.semiMajorAxis,apoapsis:this.apoapsis,periapsis:this.periapsis,eccentricity:this.eccentricity,inclination:this.inclination,argOfPeriapsis:this.argOfPeriapsis,ascNodeLongitude:this.ascNodeLongitude,meanAnomalyEpoch:this.meanAnomalyEpoch,epoch:this.epoch,semiLatusRectum:this.semiLatusRectum,siderealPeriod:this.siderealPeriod}}}],[{key:"fromOrbitalElements",value:function(r,e){return new t(a.Z.orbitFromElements(r,e),e)}}]),t}();r.Z=s},4940:function(t,r,e){var i=e(7762),o=e(2982),a=e(5671),n=e(3144),s=e(7531),h=function(){function t(r,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,a.Z)(this,t),this.sun=void 0,this.orbiters=void 0,this.orbiterIds=void 0,this.orbiters=[],this.orbiterIds=new Map,this.sun=new s.CK(r);for(var o=0;o<e.length;o++){var n=e[o],h=0===n.orbiting?this.sun:this.orbiterIds.get(n.orbiting),u=new s.sn(n,h,i);this.orbiterIds.set(u.id,u),h.orbiters.push(u),this.orbiters.push(u)}}return(0,n.Z)(t,[{key:"orbiting",get:function(){return(0,o.Z)(this.orbiterIds.values())}},{key:"bodies",get:function(){return[this.sun].concat((0,o.Z)(this.orbiters))}},{key:"data",get:function(){var t,r=[],e=(0,i.Z)(this.bodies);try{for(e.s();!(t=e.n()).done;){var o=t.value;r.push(o.data)}}catch(a){e.e(a)}finally{e.f()}return r}},{key:"size",get:function(){return 1+this.orbiterIds.size}},{key:"bodyFromName",value:function(t){for(var r=0,e=[this.sun].concat((0,o.Z)(this.orbiters));r<e.length;r++){var i=e[r];if(i.name===t)return i}throw new Error("No body with name ".concat(t))}},{key:"bodyFromId",value:function(t){if(0===t)return this.sun;var r=this.orbiterIds.get(t);if(!r)throw new Error("No body with id ".concat(t));return r}},{key:"sequenceToSun",value:function(t){for(var r=this.bodyFromId(t),e=[r.id];(0,s.VM)(r);)r=this.bodyFromId(r.orbiting),e.push(r.id);return e}},{key:"commonAttractorId",value:function(t,r){for(var e=this.sequenceToSun(t),i=this.sequenceToSun(r),o=0;o<e.length;o++)if(i.includes(e[o]))return e[o];throw new Error("Bodies do not share a common attractor (error in defining this SolarSystem)")}}]),t}();r.Z=h},7326:function(t,r,e){function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}e.d(r,{Z:function(){return i}})},5671:function(t,r,e){function i(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}e.d(r,{Z:function(){return i}})},3144:function(t,r,e){function i(t,r){for(var e=0;e<r.length;e++){var i=r[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,r,e){return r&&i(t.prototype,r),e&&i(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}e.d(r,{Z:function(){return o}})},7762:function(t,r,e){e.d(r,{Z:function(){return o}});var i=e(181);function o(t,r){var e="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=(0,i.Z)(t))||r&&t&&"number"===typeof t.length){e&&(t=e);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,h=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return s=t.done,t},e:function(t){h=!0,n=t},f:function(){try{s||null==e.return||e.return()}finally{if(h)throw n}}}}},9388:function(t,r,e){e.d(r,{Z:function(){return n}});var i=e(1120),o=e(8814),a=e(2963);function n(t){var r=(0,o.Z)();return function(){var e,o=(0,i.Z)(t);if(r){var n=(0,i.Z)(this).constructor;e=Reflect.construct(o,arguments,n)}else e=o.apply(this,arguments);return(0,a.Z)(this,e)}}},4942:function(t,r,e){function i(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}e.d(r,{Z:function(){return i}})},5807:function(t,r,e){e.d(r,{Z:function(){return o}});var i=e(8415);function o(){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,r,e){var o=(0,i.Z)(t,r);if(o){var a=Object.getOwnPropertyDescriptor(o,r);return a.get?a.get.call(arguments.length<3?t:e):a.value}},o.apply(this,arguments)}},1120:function(t,r,e){function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}e.d(r,{Z:function(){return i}})},136:function(t,r,e){e.d(r,{Z:function(){return o}});var i=e(9611);function o(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&(0,i.Z)(t,r)}},8814:function(t,r,e){function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}e.d(r,{Z:function(){return i}})},1413:function(t,r,e){e.d(r,{Z:function(){return a}});var i=e(4942);function o(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,i)}return e}function a(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?o(Object(e),!0).forEach((function(r){(0,i.Z)(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}},2963:function(t,r,e){e.d(r,{Z:function(){return a}});var i=e(1002),o=e(7326);function a(t,r){if(r&&("object"===(0,i.Z)(r)||"function"===typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(t)}},9611:function(t,r,e){function i(t,r){return i=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t},i(t,r)}e.d(r,{Z:function(){return i}})},8415:function(t,r,e){e.d(r,{Z:function(){return o}});var i=e(1120);function o(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=(0,i.Z)(t)););return t}},1002:function(t,r,e){function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}e.d(r,{Z:function(){return i}})}}]);
//# sourceMappingURL=325.fef700af.chunk.js.map