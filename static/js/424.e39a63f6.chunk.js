"use strict";(self.webpackChunkkerbal_transfer_illustrator=self.webpackChunkkerbal_transfer_illustrator||[]).push([[424],{6752:function(t,e,r){var a,n=r(1684),o=r(8818),i=r(724),s=r(4067);!function(t){function e(t,e,a,n,u){var c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=u?1:-1,m=e.stdGravParam,d=e.soi,h=(0,i.A$)(a),v=1/(2/d-h/m),y=1e-8,A=o.Z.rotateToPerifocalFromInertial(a,t),p=t.semiMajorAxis;if(t.eccentricity>y){var f=function(e){return r(e,t,m,d,A,h,v,l).err},b=t.semiMajorAxis*(1-t.eccentricity),g=t.eccentricity>1?d:t.semiMajorAxis*(1+t.eccentricity);p=(0,s.v$)(f,b,g)}var M=r(p,t,m,d,A,h,v,l),Z=M.parkNu,P=M.e,T=M.soiNu,O=M.pPos,D=M.pVel,G=o.Z.trueAnomalyToDate(T,P,o.Z.siderealPeriod(v,m),0,0),N=c?o.Z.trueAnomalyToOrbitDate(Z,t,n-G-t.siderealPeriod/2):n-G,F={date:N,pos:O,vel:D},S={date:N,pos:O,vel:o.Z.velocityAtTrueAnomaly(t,m,Z)},x=o.Z.stateToOrbit(F,e);if(1===l){var I=o.Z.maneuverFromOrbitalStates(S,F);return{orbits:[x],intersectTimes:[x.epoch,x.epoch+G],maneuvers:[I]}}var z=o.Z.maneuverFromOrbitalStates(F,S);return{orbits:[x],intersectTimes:[x.epoch+G,x.epoch],maneuvers:[z]}}function r(t,e,r,a,n,s,u,c){var l=s+2*r*(1/t-1/a),m=Math.sqrt(l),d=Math.sqrt(1+2*(.5*l-r/t)*t*t*l/r/r),h=u*(1-d*d),v=c*o.Z.trueAnomalyAtDistance(a,d,h),y=(0,i.zy)(o.Z.motionDirectionAtTrueAnomaly(v,d),Math.sqrt(s)),A=(0,i.zy)(i.o7,t),p=(0,i.zy)(i.Nb,m),f=Math.atan2(n.z,Math.sqrt(Math.abs(y.y*y.y-n.z*n.z)));y=(0,i.oU)(y,i.o7,f),A=(0,i.oU)(A,i.o7,f),p=(0,i.oU)(p,i.o7,f);var b=Math.atan2(n.y,n.x)-Math.atan2(y.y,y.x);y=(0,i.oU)(y,i.gG,b),A=(0,i.oU)(A,i.gG,b),p=(0,i.oU)(p,i.gG,b),y=o.Z.rotateToInertialFromPerifocal(y,e),A=o.Z.rotateToInertialFromPerifocal(A,e),p=o.Z.rotateToInertialFromPerifocal(p,e);var g=o.Z.angleInOrbitPlane(A,e);return{err:t-o.Z.distanceAtOrbitTrueAnomaly(g,e),parkNu:g,e:d,soiNu:v,pPos:A,pVel:p}}function a(t,e,r,a,u){var c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:(0,i.R3)(0,0,0),m=u?1:-1,d=e.stdGravParam,h=e.soi,v=(0,i.A$)(r),p=n.Z.minFlybyRadius(e),f=1/(2/h-v/d),b=1-p/f,g=f*(1-b*b),M=m*o.Z.trueAnomalyAtDistance(h,b,g),Z=-m*Math.PI,P=o.Z.motionAngleAtTrueAnomaly(M,b),T=m*(P-Z),O=(0,i.z7)(o.Z.angleInOrbitPlane(r,t)-m*T),D=function(e){var a=o.Z.positionAtTrueAnomaly(t,e),n=(0,i.sZ)(a,l),s=(0,i.G$)((0,i.oF)(n,r));s.z<0&&(s=(0,i.zy)(s,-1));var u=1===m?(0,i.Nx)(n,r,s):(0,i.Nx)(r,n,s);return Math.abs(u-T)};O=t.eccentricity<1?(0,s.ri)(D,O-Math.PI,O+Math.PI):(0,s.ri)(D,A(t,e),y(t,e));var G=o.Z.positionAtTrueAnomaly(t,O),N=(0,i.sZ)(G,l),F=(0,i.G$)((0,i.oF)(N,r));F.z<0&&(F=(0,i.zy)(F,-1));var S=(0,i.G7)(N),x=(0,i.A$)(r),I=x/2-d/h,z=(S-p)/(p+S),R=p/(1-z),$=-d/(2*R),j=Math.sqrt(2*($+d/p)),E=Math.sqrt(2*(I+d/p)),q=(0,i.N2)(i.gG,F),V=(0,i.R3)(Math.cos(P),Math.sin(P),0),L=(0,i.oU)(V,q.axis,q.angle),U=(0,i.N2)(L,(0,i.G$)(r)),_=(0,i.oU)((0,i.oU)((0,i.zy)(i.o7,p),q.axis,q.angle),U.axis,U.angle),H=(0,i.oU)((0,i.oU)(i.Nb,q.axis,q.angle),U.axis,U.angle),k=(0,i.zy)(H,E),w=(0,i.zy)(H,j),J=Math.abs(o.Z.trueAnomalyToDate(M,b,o.Z.siderealPeriod(f,d),0,0)),C=Math.abs(o.Z.trueAnomalyToDate(Z,z,o.Z.siderealPeriod(R,d),0,0)),B=a-m*J,K=B-m*C,Q={date:B,pos:_,vel:w},W={date:B,pos:_,vel:k},X=c?o.Z.trueAnomalyToOrbitDate(O,t,K-t.siderealPeriod/2):K,Y=a+X-K;Q.date=Q.date+X-K,W.date=Q.date;var tt=o.Z.stateToOrbit(Q,e);tt.meanAnomalyEpoch=o.Z.dateToMeanAnomaly(X,tt.siderealPeriod,tt.meanAnomalyEpoch,tt.epoch),tt.epoch=X;var et=o.Z.stateToOrbit(W,e),rt=o.Z.velocityAtTrueAnomaly(t,e.stdGravParam,O),at=o.Z.velocityAtTrueAnomaly(tt,e.stdGravParam,Z),nt={date:K,pos:N,vel:rt},ot={date:K,pos:N,vel:at};if(1===m){var it=o.Z.maneuverFromOrbitalStates(nt,ot),st=o.Z.maneuverFromOrbitalStates(Q,W);return{orbits:[tt,et],intersectTimes:[tt.epoch,et.epoch,Y],maneuvers:[it,st]}}var ut=o.Z.maneuverFromOrbitalStates(ot,nt),ct=o.Z.maneuverFromOrbitalStates(W,Q);return{orbits:[et,tt],intersectTimes:[Y,et.epoch,tt.epoch],maneuvers:[ct,ut]}}function u(t,e,a,u,l){var m=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"direct",v=arguments.length>7&&void 0!==arguments[7]?arguments[7]:(0,i.R3)(0,0,0),A=l?1:-1,p=-i.uo,f=i.uo-Number.EPSILON;if("direct"===h){var b=e.stdGravParam,g=e.soi,M=(0,i.A$)(a),Z=1/(2/g-M/b),P=t.semiMajorAxis,T=o.Z.rotateToPerifocalFromInertial(a,t),O=r(P,t,b,g,T,M,Z,A),D=O.parkNu;p=D-Math.PI,f=D+Math.PI}else if("oberth"===h){var G=e.stdGravParam,N=e.soi,F=n.Z.minFlybyRadius(e),S=(0,i.A$)(a),x=S/2-G/N,I=-G/(2*x),z=1-F/I,R=I*(1-z*z),$=o.Z.trueAnomalyAtDistance(N,z,R),j=o.Z.motionAngleAtTrueAnomaly($,z),E=j+Math.PI,q=(0,i.z7)(o.Z.angleInOrbitPlane(a,t)-A*E);p=q-Math.PI,f=q+Math.PI}t.eccentricity>1&&(p=-(f=y(t,e)-2*Number.EPSILON));var V="direct"===h?c:"oberth"===h?d:c;function L(r){if(isNaN(r)||r===1/0)throw console.log(r),Error("nu cannot be NaN");var n=V(r,t,e,a,u,A,m,v,!1),o=n.deltaV,i=n.err;return o*Math.exp(Math.min(100*i,10))}var U=(0,s.ri)(L,p,f,1e-4),_=V(U,t,e,a,u,A,m,v,!0);return _.trajectoryInfo}function c(t,e,r,a,n,s){var u=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:(0,i.R3)(0,0,0),m=!(arguments.length>8&&void 0!==arguments[8])||arguments[8],d=(0,i.sZ)(o.Z.positionAtTrueAnomaly(e,t),c);if(isNaN(d.x))throw Error("nu cannot be NaN");var h=l(d,r,a,n,s,m),v=h.err,y=h.orbit,A=u?o.Z.trueAnomalyToOrbitDate(t,e,y.epoch-e.siderealPeriod/2):y.epoch,p=n+A-y.epoch;y.epoch=A;var f,b={date:y.epoch,pos:o.Z.positionAtTrueAnomaly(e,t),vel:o.Z.velocityAtTrueAnomaly(e,r.stdGravParam,t)},g=o.Z.orbitToStateAtDate(y,r,y.epoch);if(1===s){var M=o.Z.maneuverFromOrbitalStates(b,g);f={orbits:[y],intersectTimes:[y.epoch,p],maneuvers:[M]}}else{var Z=o.Z.maneuverFromOrbitalStates(g,b);f={orbits:[y],intersectTimes:[p,y.epoch],maneuvers:[Z]}}var P=f.maneuvers[0].deltaVMag;return{deltaV:P,err:v,trajectoryInfo:f}}function l(t,e,r,a,n){var u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],c=e.stdGravParam,l=(0,i.G7)(t),d=e.soi,h=(0,i.G$)((0,i.oF)(t,r)),v=(0,i.oF)(i.gG,h),y=(0,i.G7)(v),A=0===y?i.o7:(0,i.$_)(v,y),p=1/(2/d-(0,i.A$)(r)/c),f=(0,i.ZF)(h.z),b=(0,i.z7)((0,i.JG)(1,A.y)*(0,i.ZF)(A.x)),g=1-2*Number.EPSILON,M=(0,i.uZ)(d/p-1+Number.EPSILON,0,g);function Z(a){return isNaN(a)?2:m(a,p,b,f,t,l,d,c,r,e.id,n).err}p<0&&(M=1+2*Number.EPSILON,g=1===(g=Math.max(1-l/p,l/p-1))?1+4*Number.EPSILON:g);var P=(0,s.ri)(Z,M,g,1e-6),T=m(P,p,b,f,t,l,d,c,r,e.id,n),O=T.err,D=T.orbit;if(u){var G=D.semiLatusRectum,N=n*o.Z.trueAnomalyAtDistance(l,P,G),F=n*o.Z.trueAnomalyAtDistance(d,P,G),S=o.Z.siderealPeriod(p,c),x=o.Z.trueToMeanAnomaly(N,P),I=o.Z.trueAnomalyToDate(F,P,S,x,0),z=a-I;D.meanAnomalyEpoch=x,D.epoch=z}return{err:O,orbit:D}}function m(t,e,r,a,n,s,u,c,l,m,d){var h=e*(1-t*t),v=d*o.Z.trueAnomalyAtDistance(s,t,h),y=d*o.Z.trueAnomalyAtDistance(u,t,h),A={orbiting:m,semiMajorAxis:e,eccentricity:t,inclination:a,ascNodeLongitude:r,argOfPeriapsis:(0,i.z7)(o.Z.angleInPlane(n,r,a,0)-v),meanAnomalyEpoch:0,epoch:0,semiLatusRectum:h,siderealPeriod:o.Z.siderealPeriod(e,c)},p=o.Z.velocityAtTrueAnomaly(A,c,y),f=1-(0,i._O)((0,i.G$)(l),(0,i.G$)(p));return isNaN(f)&&(f=2),console.log(),{err:f,orbit:A}}function d(t,e,r,a,n,s){var u=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:(0,i.R3)(0,0,0),l=!(arguments.length>8&&void 0!==arguments[8])||arguments[8],m=(0,i.sZ)(o.Z.positionAtTrueAnomaly(e,t),c),d=o.Z.velocityAtTrueAnomaly(e,r.stdGravParam,t),v=h(m,d,r,a,n,s,l),y=v.deltaV,A=v.obrPreState,p=v.obrPostState,f=v.hypPreState,b=v.hypPostState,g={orbits:[],intersectTimes:[],maneuvers:[]};if(l){var M=u?o.Z.trueAnomalyToOrbitDate(t,e,A.date-e.siderealPeriod/2):A.date,Z=n+M-A.date;f.date=f.date+M-A.date,b.date=f.date,A.date=M,p.date=M;var P=o.Z.stateToOrbit(f,r);P.meanAnomalyEpoch=o.Z.dateToMeanAnomaly(M,P.siderealPeriod,P.meanAnomalyEpoch,P.epoch),P.epoch=M;var T=o.Z.stateToOrbit(b,r);if(1===s){var O=o.Z.maneuverFromOrbitalStates(A,p),D=o.Z.maneuverFromOrbitalStates(f,b);g={orbits:[P,T],intersectTimes:[P.epoch,T.epoch,Z],maneuvers:[O,D]}}else{var G=o.Z.maneuverFromOrbitalStates(p,A),N=o.Z.maneuverFromOrbitalStates(b,f);g={orbits:[T,P],intersectTimes:[Z,T.epoch,P.epoch],maneuvers:[N,G]}}}return{deltaV:y,err:0,trajectoryInfo:g}}function h(t,e,r,a,u,c){var l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],m=r.stdGravParam,d=r.soi,h=(0,i.G7)(t),v=(0,i.$_)(t,h),y=(0,i.A$)(a),A=(0,i.$_)(a,Math.sqrt(y)),p=y/2-m/d,f=-m/(2*p),b=(0,i.G$)((0,i.oF)(v,A));b.z<0&&(b=(0,i.zy)(b,-1));var g=1===c?(0,i.Nx)(v,A,b):(0,i.Nx)(A,v,b);isNaN(g)&&console.log(v,A,b);var M=function(t){var e=1-t/f,r=f*(1-e*e),a=c*o.Z.trueAnomalyAtDistance(d,e,r),n=o.Z.motionAngleAtTrueAnomaly(a,e),s=(0,i.z7)(n-c*g,-Math.PI*(c+1));return t-h*Math.cos(s)},Z=n.Z.minFlybyRadius(r),P=(0,s.ri)(M,Z,h),T=M(P);T<0&&(Z=(0,s.v$)(M,P,h)+1);var O=function(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=1-t/f,s=f*(1-n*n),u=c*o.Z.trueAnomalyAtDistance(d,n,s),l=o.Z.motionAngleAtTrueAnomaly(u,n),v=(0,i.z7)(l-c*g,-Math.PI*(c+1)),y=(h-t)/(t-h*Math.cos(v)),P=t/(1-y),T=-m/(2*P),O=Math.sqrt(2*(T+m/t)),D=Math.sqrt(2*(p+m/t)),G=(0,i.N2)(i.gG,b),N=(0,i.R3)(Math.cos(l),Math.sin(l),0),F=(0,i.oU)(N,G.axis,G.angle),S=(0,i.N2)(F,A),x=Math.sqrt(2*(T+m/h)),I=o.Z.motionDirectionAtTrueAnomaly(v,y),z=(0,i.oU)((0,i.oU)(I,G.axis,G.angle),S.axis,G.angle),R=(0,i.zy)(z,x),$=Math.abs(O-D)+(0,i.G7)((0,i.qK)(R,e)),j=(0,i.R3)(0,0,0),E=(0,i.R3)(0,0,0),q=(0,i.R3)(0,0,0),V=0,L=0;if(a){j=(0,i.oU)((0,i.oU)((0,i.zy)((0,i.R3)(1,0,0),t),G.axis,G.angle),S.axis,S.angle);var U=(0,i.oU)((0,i.oU)((0,i.R3)(0,1,0),G.axis,G.angle),S.axis,S.angle);E=(0,i.zy)(U,D),q=(0,i.zy)(U,O),V=Math.abs(o.Z.trueAnomalyToDate(u,n,o.Z.siderealPeriod(f,m),0,0)),L=Math.abs(o.Z.trueAnomalyToDate(v,y,o.Z.siderealPeriod(P,m),0,0))}return isNaN($)&&(console.log(r.name,h,Z,M(h),M(Z)),console.log(t,h-t,t-h*Math.cos(v),g,l)),{deltaV:$,obrVel:R,periapsisPos:j,hypPeriapsisVel:E,obrPeriapsisVel:q,hypDuration:V,obrDuration:L}},D=(0,s.ri)((function(t){return O(t).deltaV}),Z,h,1e-8),G=O(D,l),N=G.deltaV,F=G.obrVel,S=G.periapsisPos,x=G.hypPeriapsisVel,I=G.obrPeriapsisVel,z=G.hypDuration,R=G.obrDuration,$=u-c*z,j=$-c*R,E={date:j,pos:t,vel:e},q={date:j,pos:t,vel:F},V={date:$,pos:S,vel:I},L={date:$,pos:S,vel:x};return{deltaV:N,obrPreState:E,obrPostState:q,hypPreState:V,hypPostState:L}}function v(t,e,r){return r*o.Z.trueAnomalyAtDistance(e.soi,t.eccentricity,t.semiLatusRectum)}function y(t,e){return v(t,e,1)}function A(t,e){return v(t,e,-1)}function p(t,e,r){var a=void 0;return t.eccentricity<1&&(a=1===r?t.epoch:t.epoch-t.siderealPeriod),o.Z.trueAnomalyToDate(v(t,e,r),t.eccentricity,t.siderealPeriod,t.meanAnomalyEpoch,t.epoch,a)}function f(t,e,r){return o.Z.positionAtTrueAnomaly(t,v(t,e,r))}t.fastDeparture=function(t,r,a,n){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return e(t,r,a,n,!0,o)},t.fastArrival=function(t,r,a,n){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return e(t,r,a,n,!1,o)},t.fastDepartureArrival=e,t.fastOberthDeparture=function(t,e,r,n){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:(0,i.R3)(0,0,0);return a(t,e,r,n,!0,o,s)},t.fastOberthArrival=function(t,e,r,n){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:(0,i.R3)(0,0,0);return a(t,e,r,n,!1,o,s)},t.optimalDeparture=function(t,e,r,a){var n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"direct",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:(0,i.R3)(0,0,0);return u(t,e,r,a,!0,n,o,s)},t.optimalArrival=function(t,e,r,a){var n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"direct",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:(0,i.R3)(0,0,0);return u(t,e,r,a,!1,n,o,s)},t.optimalDepartureArrival=u,t.departArriveForPosition=l,t.oberthDepartArriveForTrueAnomaly=d,t.oberthDepartArriveForPosition=h,t.ejectionTrueAnomaly=y,t.insertionTrueAnomaly=A,t.ejectionDate=function(t,e){return p(t,e,1)},t.insertionDate=function(t,e){return p(t,e,-1)},t.ejectionPosition=function(t,e){return f(t,e,1)},t.insertionPosition=function(t,e){return f(t,e,-1)},t.ejectionVelocity=function(t,e){return function(t,e,r){return o.Z.velocityAtTrueAnomaly(t,e.stdGravParam,v(t,e,r))}(t,e,1)},t.insertionVelocity=function(t,e){return f(t,e,-1)}}(a||(a={})),e.Z=a},1684:function(t,e,r){var a,n=r(8818),o=r(6752),i=r(724),s=r(4067);!function(t){function e(t){var e=t.atmosphereHeight||0,r=t.maxTerrainHeight||0;return e>r?t.radius+e+1e3:t.radius+r+1e3}function r(t){return t.soi}t.minFlybyRadius=e,t.maxFlybyRadius=r,t.legDurationBounds=function(t,e,r){var a=.5*(t.semiMajorAxis+e.semiMajorAxis),o=n.Z.siderealPeriod(a,r.stdGravParam);return{lb:o/25,ub:2*o}},t.flybyParameters=function(t){var a=t.velIn,o=t.velOut,u=t.body,c=t.time,l=u.stdGravParam,m=u.soi,d=(0,i.A$)(a),h=(0,i.A$)(o),v=(0,i.$_)(a,Math.sqrt(d)),y=(0,i.$_)(o,Math.sqrt(h)),A=d/2-l/m,p=h/2-l/m,f=-l/(2*A),b=-l/(2*p),g=(0,i.G$)((0,i.oF)(v,y)),M=(0,i.ZF)((0,i._O)(v,y)),Z=function(t){var e=1-t/f,r=1-t/b,a=f*(1-e*e),o=b*(1-r*r),s=-n.Z.trueAnomalyAtDistance(m,e,a),u=n.Z.trueAnomalyAtDistance(m,r,o),c=n.Z.motionAngleAtTrueAnomaly(s,e),l=n.Z.motionAngleAtTrueAnomaly(u,r),d=Math.abs(M-(0,i.z7)(l-c));return isNaN(d)?Math.PI:d},P=(0,s.ri)(Z,e(u),r(u),1e-8),T=Z(P),O=1-P/f,D=1-P/b,G=Math.sqrt(2*(A+l/P)),N=Math.sqrt(2*(p+l/P)),F=Math.abs(N-G);return{inSemiMajorAxis:f,inEccentricity:O,inDirection:v,outSemiMajorAxis:b,outEccentricity:D,outDirection:y,normalDirection:g,deltaV:F,error:T,time:c}},t.flybyFromParameters=function(t,e){var r=e.soi,a=e.stdGravParam,s=t.inSemiMajorAxis,u=t.outSemiMajorAxis,c=t.inEccentricity,l=s*(1-c),m=s*(1-c*c),d=-n.Z.trueAnomalyAtDistance(r,c,m),h=n.Z.motionDirectionAtTrueAnomaly(d,c),v=(0,i.N2)(h,t.inDirection),y=v.axis,A=v.angle,p=(0,i.oU)((0,i.R3)(l,0,0),y,A),f=Math.sqrt(a*(2/l-1/s)),b=Math.sqrt(a*(2/l-1/u)),g=(0,i.oU)((0,i.R3)(0,f,0),y,A),M=(0,i.oU)((0,i.R3)(0,b,0),y,A),Z={date:t.time,pos:p,vel:g},P={date:t.time,pos:p,vel:M},T=n.Z.stateToOrbit(Z,e),O=n.Z.stateToOrbit(P,e),D=n.Z.maneuverFromOrbitalStates(Z,P),G=o.Z.insertionDate(T,e),N=o.Z.ejectionDate(O,e);return{orbits:[T,O],intersectTimes:[G,t.time,N],maneuvers:[D]}},t.multiFlybyInputsFromAgent=function(t,e){for(var r=(0,i.t7)(e.startDateMin,e.startDateMax,t[0]),a=[],n=0;n<t.length-1;n++){var o=(0,i.t7)(e.flightTimesMax[n],e.flightTimesMin[n],t[n+1]);a.push(o)}return{system:e.system,startOrbit:e.startOrbit,endOrbit:e.endOrbit,flybyIdSequence:e.flybyIdSequence,startDate:r,flightTimes:a,ejectionInsertionType:e.ejectionInsertionType,planeChange:e.planeChange,matchStartMo:e.matchStartMo,matchEndMo:e.matchEndMo,noInsertionBurn:e.noInsertionBurn}}}(a||(a={})),e.Z=a},8818:function(t,e,r){var a,n=r(724),o=r(4067);!function(t){var e=6743e-14;function r(t,e){var r=t.semiLatusRectum?t.semiLatusRectum:t.semiMajorAxis*(1-t.eccentricity*t.eccentricity),n=t.siderealPeriod?t.siderealPeriod:a(t.semiMajorAxis,e.stdGravParam);return{orbiting:e.id,semiMajorAxis:t.semiMajorAxis,eccentricity:t.eccentricity,inclination:t.inclination,argOfPeriapsis:t.argOfPeriapsis,ascNodeLongitude:t.ascNodeLongitude,meanAnomalyEpoch:t.meanAnomalyEpoch,epoch:t.epoch,semiLatusRectum:r,siderealPeriod:n}}function a(t,e){return n.uo*Math.sqrt(Math.abs(t*t*t)/e)}function i(t,e){return Math.atan(e*Math.sin(t)/(1+e*Math.cos(t)))}function s(t,e){return t+n.pj-i(t,e)}function u(t,e){var r=s(t,e);return(0,n.R3)(Math.cos(r),Math.sin(r),0)}function c(t,e,r){return r/(1+e*Math.cos(t))}function l(t,e,r,a){return r+n.uo*(t-a)/e}function m(t,e,r,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,i=a+(t-r)*e/n.uo;if(o){var s=Math.ceil((o-i)/e);i+=e*s}return i}function d(t,e){if(e<1){var r=2*Math.atan2(Math.sin(t/2)*Math.sqrt(1-e),Math.cos(t/2)*Math.sqrt(1+e));return r-e*Math.sin(r)}var a=2*Math.atanh(Math.tan(t/2)*Math.sqrt((e-1)/(e+1)));return e*Math.sinh(a)-a}function h(t,e){if(e<1){var r=(0,o.Zg)((function(r){return r-e*Math.sin(r)-t}),(function(t){return 1-e*Math.cos(t)}),t,1e-12);return 2*Math.atan(Math.sqrt((1+e)/(1-e))*Math.tan(.5*r))}var a=Math.abs(t)>4*Math.PI?4*Math.sign(t)*Math.PI:t,n=(0,o.Zg)((function(r){return e*Math.sinh(r)-r-t}),(function(t){return e*Math.cosh(t)-1}),a,1e-12);return 2*Math.atan(Math.sqrt((e+1)/(e-1))*Math.tanh(.5*n))}function v(t,e,r,a,n){return h(l(t,r,a,n),e)}function y(t,e,r,a,n){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=d(t,e);return m(i,r,a,n,o)}function A(t,e,r,a){var o=(0,n.HJ)(t,-a,-r,-e);return Math.atan2(o.y,o.x)}function p(t,e){var r=t.eccentricity,a=t.inclination,o=t.ascNodeLongitude,i=t.argOfPeriapsis,s=c(e,r,t.semiLatusRectum),u=(0,n.R3)(s*Math.cos(e),s*Math.sin(e),0);return(0,n.HJ)(u,o,a,i)}function f(t,e,r){var a=t.semiMajorAxis,o=t.eccentricity,i=t.inclination,s=t.ascNodeLongitude,l=t.argOfPeriapsis,m=c(r,o,t.semiLatusRectum),d=Math.sqrt(e*(2/m-1/a)),h=(0,n.zy)(u(r,o),d);return(0,n.HJ)(h,s,i,l)}t.orbitFromElements=r,t.maneuverFromOrbitalStates=function(t,e){var r=(0,n.qK)(e.vel,t.vel);return{preState:t,postState:e,deltaV:r,deltaVMag:(0,n.G7)(r)}},t.maneuverToComponents=function(t){var e=(0,n.G$)(t.preState.vel),r=(0,n.G$)((0,n.oF)(t.preState.pos,e)),a=(0,n.oF)(e,r);return{prograde:(0,n._O)(t.deltaV,e),normal:(0,n._O)(t.deltaV,r),radial:(0,n._O)(t.deltaV,a),date:t.preState.date}},t.maneuverComponentsToManeuver=function(t,e){var r=(0,n.G$)(e.vel),a=(0,n.G$)((0,n.oF)(e.pos,r)),o=(0,n.oF)(r,a),i=(0,n.sZ)((0,n.zy)(r,t.prograde),(0,n.sZ)((0,n.zy)(a,t.normal),(0,n.zy)(o,t.radial)));return{preState:e,postState:{date:e.date,pos:e.pos,vel:(0,n.sZ)(e.vel,i)},deltaV:i,deltaVMag:(0,n.G7)(i)}},t.rotateToInertialFromPerifocal=function(t,e){var r=e.ascNodeLongitude,a=e.inclination,o=e.argOfPeriapsis;return(0,n.HJ)(t,r,a,o)},t.rotateToPerifocalFromInertial=function(t,e){var r=e.ascNodeLongitude,a=e.inclination,o=e.argOfPeriapsis;return(0,n.HJ)(t,-o,-a,-r)},t.siderealPeriod=a,t.flightPathAngleAtTrueAnomaly=i,t.motionAngleAtTrueAnomaly=s,t.motionDirectionAtTrueAnomaly=u,t.distanceAtTrueAnomaly=c,t.distanceAtOrbitTrueAnomaly=function(t,e){return c(t,e.eccentricity,e.semiLatusRectum)},t.trueAnomalyAtDistance=function(t,e,r){return(0,n.ZF)((r/t-1)/e)},t.dateToMeanAnomaly=l,t.meanAnomalyToDate=m,t.trueToMeanAnomaly=d,t.meanToTrueAnomaly=h,t.dateToTrueAnomaly=v,t.trueAnomalyToDate=y,t.dateToOrbitTrueAnomaly=function(t,e){return v(t,e.eccentricity,e.siderealPeriod,e.meanAnomalyEpoch,e.epoch)},t.trueAnomalyToOrbitDate=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.epoch;return y(t,e.eccentricity,e.siderealPeriod,e.meanAnomalyEpoch,e.epoch,r)},t.angleInPlane=A,t.angleInOrbitPlane=function(t,e){return A(t,e.ascNodeLongitude,e.inclination,e.argOfPeriapsis)},t.positionAtTrueAnomaly=p,t.velocityAtTrueAnomaly=f,t.orbitToPositionAtDate=function(t,e){var r=t.eccentricity,a=t.meanAnomalyEpoch,n=t.epoch;return p(t,v(e,r,t.siderealPeriod,a,n))},t.orbitToVelocityAtDate=function(t,e,r){var a=t.eccentricity,n=t.meanAnomalyEpoch,o=t.epoch,i=t.siderealPeriod;return f(t,e.stdGravParam,v(r,a,i,n,o))},t.orbitToStateAtDate=function(t,e,r){var a=t.eccentricity,n=t.meanAnomalyEpoch,o=t.epoch,i=t.siderealPeriod,s=e.stdGravParam,u=v(r,a,i,n,o);return{date:r,pos:p(t,u),vel:f(t,s,u)}},t.stateToOrbit=function(t,e){var r=e.stdGravParam,o=t.pos,i=t.vel,s=(0,n.G7)(o),u=(0,n.A$)(i),c=t.date,l=1/(2/s-u/r),m=(0,n.oF)(o,i),h=(0,n.ZF)(m.z/(0,n.G7)(m)),v=(0,n.qK)((0,n.$_)((0,n.oF)(i,m),r),(0,n.$_)(o,s)),y=(0,n.G7)(v),p=(0,n.$_)(v,y);y<=1e-12&&(p=n.o7,y=0);var f=(0,n.oF)(n.gG,m),b=(0,n.G7)(f),g=(0,n.$_)(f,b);b<=1e-12&&(g=p,b=0);var M=(0,n.z7)((0,n.JG)((0,n.ZF)(g.x),g.y),0),Z=(0,n.z7)((0,n.JG)((0,n.ZF)((0,n._O)(g,p)),p.z),0),P=d((0,n.z7)(A(o,M,h,Z),0),y),T=l*(1-y*y),O=a(l,r);return{orbiting:e.id,semiMajorAxis:l,eccentricity:y,inclination:h,ascNodeLongitude:M,argOfPeriapsis:Z,meanAnomalyEpoch:P,epoch:c,semiLatusRectum:T,siderealPeriod:O}},t.inputsToOrbitingBody=function(t,a){if(!t.mass&&!t.stdGravParam&&!t.geeASL)throw Error("A mass, 'sea level' gravity, or standard gravitational parameter is needed.");var n=r(t.orbit,a),o=t.maxTerrainHeight?t.maxTerrainHeight:0,i=t.atmosphereHeight?t.atmosphereHeight:0,s=t.stdGravParam,u=t.mass;s||u?(s=s||u*e,u=u||s/e):u=(s=t.geeASL*t.radius*t.radius*9.80665)/e;var c=t.soi?t.soi:t.orbit.semiMajorAxis*Math.pow(s/a.stdGravParam,.4),l=t.color?t.color:{r:255,g:255,b:255};return{id:t.id,name:t.name,radius:t.radius,maxTerrainHeight:o,atmosphereHeight:i,mass:u,stdGravParam:s,soi:c,color:l,orbit:n,orbiting:n.orbiting}}}(a||(a={})),e.Z=a},907:function(t,e,r){function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}r.d(e,{Z:function(){return a}})},2982:function(t,e,r){r.d(e,{Z:function(){return o}});var a=r(907);var n=r(181);function o(t){return function(t){if(Array.isArray(t))return(0,a.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,n.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(t,e,r){r.d(e,{Z:function(){return n}});var a=r(907);function n(t,e){if(t){if("string"===typeof t)return(0,a.Z)(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,a.Z)(t,e):void 0}}}}]);
//# sourceMappingURL=424.e39a63f6.chunk.js.map